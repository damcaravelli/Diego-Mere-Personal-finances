# Personal Finance Tools

This repository brings together two complementary workflows for personal finance analysis:

1. **Expense Categorization (`Generador.ipynb`)**  
   Transform raw bank statement files (Excel) into a clean and categorized dataset of expenses and income.

2. **Investment Simulations (`Simulations.ipynb`)**  
   Model different allocation strategies (Cash, S&P 500, Bitcoin) over your historical contributions, and visualize portfolio performance.

Both notebooks are designed to be **modular and reusable**, so you can adapt them to your own data and strategies.

---

## 📂 Project Structure

Personal-Finance-Tools/
├─ Notebooks/
│ ├─ Generador.ipynb # Expense categorization pipeline
│ └─ Simulations.ipynb # Investment simulations
├─ data/
│ ├─ raw/ # Original bank statements (.xlsx)
│ ├─ stage_csv/ # Intermediate CSVs (autogenerated)
│ └─ processed/ # Cleaned outputs
└─ rules/
└─ categories_dictionary.csv # Custom rules for categorization


- **data/raw/** → Place your original Excel bank statements here.  
- **data/stage_csv/** → Automatically generated CSV files, used internally.  
- **data/processed/** → Final datasets (combined and categorized).  
- **rules/** → Contains dictionaries/rules for expense categorization.

---

## ⚙️ 1. Expense Categorization (`Generador.ipynb`)

### Input
- Bank statements in Excel format, stored in `data/raw/`.  
- Each statement may vary slightly by bank, but the script standardizes column names.  
- A categorization dictionary (`rules/categories_dictionary.csv`) that maps transaction descriptions to categories.

### Process
1. **Convert Excel → CSV** (stored in `stage_csv`).  
2. **Normalize column names** (dates, amounts, descriptions).  
3. **Apply categorization rules** using the dictionary.  
4. **Export results** to `data/processed/categorized_expenses.csv`.

### Output
- A clean, consolidated dataset with consistent columns:  

| date       | amount | description         | category   |
|------------|--------|---------------------|------------|
| 2024-01-02 | -45.60 | Supermarket XYZ     | Groceries  |
| 2024-01-03 | -12.00 | Coffee Shop         | Dining     |
| 2024-01-05 | 1200.0 | Company Payroll     | Income     |

---

## 📊 2. Investment Simulations (`Simulations.ipynb`)

### Input
- Synthetic contributions dataset (`synthetic.csv` in `data/raw/`)  
  containing `date`, `amount`, and `category` (must include *savings/ahorro*).  
- Market datasets in `data/raw/`:  
  - `sp500_example.csv` (S&P500 historical prices)  
  - `bitcoin_example.csv` (Bitcoin historical prices)  
  - `fx_eur_usd_example.csv` (EUR/USD rates)

### Process
1. **Merge contributions with market prices**, aligned by `date`.  
2. **Convert all assets to EUR** (via `fx_eur_usd`).  
3. **Simulate allocations** across Cash, S&P 500, Bitcoin.  
4. **Forward-fill gaps** (e.g., weekends, holidays).  
5. **Aggregate results** into portfolio value over time.

### Output
- Portfolio evolution for chosen allocations.  
- Heatmaps of final portfolio values by allocation.  
- Interactive line charts comparing strategies.

### Example Visualizations

**Portfolio Growth Over Time**

<img width="1104" height="450" alt="image" src="https://github.com/user-attachments/assets/718ccd0c-a9d0-473b-9ed9-c1e6db733ded" />


**Allocation Heatmap**

<img width="800" height="600" alt="image" src="https://github.com/user-attachments/assets/806cce3e-a214-4337-b91b-7310e0150f8d" />

---

## 🔁 How to Reuse

1. **Clone the repository** or download it as ZIP.  
2. Place your **bank statements** in `data/raw/`.  
3. Edit `rules/categories_dictionary.csv` with your own categories and keywords.  
4. Run `Notebooks/Generador.ipynb` → get `categorized_expenses.csv`.  
5. Prepare your **synthetic contributions file** (or adapt your categorized data).  
6. Run `Notebooks/Simulations.ipynb` to simulate different strategies.  

You can customize:
- **Step size for allocations** (`step = 10` → try 5 for finer resolution).  
- **Assets included** (e.g., add ETFs, bonds, or other FX).  
- **Visualization style** via Plotly templates.

---

## 🛠️ Requirements

- Python 3.9+  
- Libraries: `pandas`, `numpy`, `plotly`, `seaborn`, `pathlib`  

Install dependencies:

```bash
pip install pandas numpy plotly seaborn
